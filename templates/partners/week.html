{% extends "base_partner.html" %}

{% block title %}GO PICHANGA · Calendario semanal{% endblock %}

{# marcar opción del menú lateral #}
{% block menu_week_active %}active{% endblock %}

{% block header %}
  <h1>Calendario semanal</h1>

  <div class="toolbar">
    <a href="{% url 'partners:week' %}?monday={{ prev_monday }}">
      &larr; Semana anterior
    </a>
    <a href="{% url 'partners:week' %}?monday={{ this_monday }}">
      Semana actual
    </a>
    <a href="{% url 'partners:week' %}?monday={{ next_monday }}">
      Siguiente semana &rarr;
    </a>

    <div class="toolbar-right">
      Semana del {{ days.0|date:"d/m" }} al {{ days.6|date:"d/m" }}
    </div>
  </div>
{% endblock %}

{% block content %}
  <div class="weekgrid-wrapper">
    <div class="weekgrid">
      <!-- Encabezados -->
      <div class="wg-head time">Hora</div>
      {% for d in header_days %}
        <div class="wg-head">{{ d.label }}</div>
      {% endfor %}

      <!-- Filas -->
      {% for row in rows_data %}
        <div class="wg-time">{{ row.time }}</div>
        {% for cell in row.cells %}
          <div class="wg-cell {{ cell.status }}">
            <small>{{ cell.label }}</small>
          </div>
        {% endfor %}
      {% endfor %}
    </div>
  </div>
{% endblock %}
